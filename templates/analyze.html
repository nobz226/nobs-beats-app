{% extends 'base.html' %}
{% from 'components/hero.html' import hero %}

{% block content %}
<div class="hero-section">
    <div class="title-container">
        <h1 class="text-title"><span class="word">Audio</span> <span class="word">Analyzer</span></h1>
        <p class="subtitle">Detect Key and Tempo Instantly</p>
    </div>
</div>

<div class="analyzer-container content-section">
    <div class="analyzer-form">
        <div class="notice">
            <i class="fas fa-info-circle"></i>
            For best results, use high-quality audio files (any size)
        </div>
        
        <div class="file-drop-area">
            <input type="file" id="audio-file" accept=".mid,.midi,.xml,.mxl,.abc,.wav,.mp3,.flac" class="file-input">
            <div class="file-icon">
                <i class="fas fa-cloud-upload-alt"></i>
            </div>
            <div class="file-msg">Drag & drop audio file or click to select</div>
            <div class="file-name"></div>
        </div>

        <button id="analyze-btn" disabled>Analyze</button>
        
        <div class="analysis-status" style="display: none;">
            <div class="analyzer-progress-container">
                <div class="analyzer-progress"></div>
            </div>
            <div class="analyzer-status-text"></div>
        </div>
    </div>
</div>

<div class="results-section alternate-section" style="display: none;">
    <div class="results-container">
        <div class="result-card">
            <div class="result-icon">
                <i class="fas fa-tachometer-alt"></i>
            </div>
            <h3>Tempo</h3>
            <div class="result-value tempo-value">--</div>
        </div>
        <div class="result-card">
            <div class="result-icon">
                <i class="fas fa-music"></i>
            </div>
            <h3>Key</h3>
            <div class="result-value key-value">--</div>
        </div>
    </div>
</div>

<div style="height: 200px;"></div>  <!-- Added spacer -->
{% endblock %}

{% block extra_css %}
<style>
    .results-section {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
    }
    
    .results-container {
        display: flex;
        justify-content: center;
        gap: 30px;
        margin-top: 20px;
        width: 100%;
        max-width: 600px;
    }
    
    .result-card {
        background: rgba(30, 30, 30, 0.7);
        border-radius: 10px;
        padding: 20px;
        text-align: center;
        width: 200px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
    }
    
    .result-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }
    
    .result-icon {
        font-size: 2.5rem;
        color: var(--primary-color);
        margin-bottom: 15px;
    }
    
    .result-value {
        font-size: 1.8rem;
        font-weight: bold;
        margin-top: 10px;
        color: #fff;
    }
    
    .analyzer-progress-container {
        width: 100%;
        height: 8px;
        background-color: rgba(255, 255, 255, 0.1);
        border-radius: 4px;
        margin: 15px 0;
        overflow: hidden;
    }
    
    .analyzer-progress {
        height: 100%;
        background-color: var(--primary-color);
        width: 0%;
        transition: width 0.3s ease;
    }
    
    .analyzer-status-text {
        text-align: center;
        margin-bottom: 10px;
        color: #F5F5DC;
    }
</style>
{% endblock %}
